{"version":3,"sources":["../src/array-includes-x.js"],"names":[],"mappings":"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","file":"array-includes-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport toObject from 'to-object-x';\nimport toLength from 'to-length-x';\nimport sameValueZero from 'same-value-zero-x';\nimport findIndex from 'find-index-x';\nimport splitIfBoxedBug from 'split-if-boxed-bug-x';\nimport indexOf from 'index-of-x';\nimport calcFromIndex from 'calculate-from-index-x';\nimport toBoolean from 'to-boolean-x';\nimport requireObjectCoercible from 'require-object-coercible-x';\n\nconst ni = [].includes;\nconst nativeIncludes = typeof ni === 'function' && ni;\n\nconst getArrayLike = function getArrayLike() {\n  return {\n    1: 'a',\n    2: NaN,\n    3: -0,\n    length: 5,\n  };\n};\n\nconst test1 = function test1() {\n  return attempt.call(null, nativeIncludes, 'a').threw;\n};\n\nconst test2 = function test2() {\n  const arr = getArrayLike();\n  /* eslint-disable-next-line no-void */\n  const res = attempt.call(arr, nativeIncludes, void 0, -1);\n\n  return res.threw === false && res.value === true;\n};\n\nconst test3 = function test3() {\n  const arr = getArrayLike();\n  const res = attempt.call(arr, nativeIncludes, NaN);\n\n  return res.threw === false && res.value === true;\n};\n\nconst test4 = function test4() {\n  const arr = getArrayLike();\n  const res = attempt.call(arr, nativeIncludes, 0);\n\n  return res.threw === false && res.value === true;\n};\n\nconst test5 = function test5() {\n  const testArr = [];\n  testArr.length = 2;\n  testArr[1] = null;\n  /* eslint-disable-next-line no-void */\n  const res = attempt.call(testArr, nativeIncludes, void 0);\n\n  return res.threw === false && res.value === true;\n};\n\nconst test6 = function test6() {\n  const res = attempt.call('abc', nativeIncludes, 'c');\n\n  return res.threw === false && res.value === true;\n};\n\nconst test7 = function test7() {\n  const res = attempt.call(\n    (function getArgs() {\n      /* eslint-disable-next-line prefer-rest-params */\n      return arguments;\n    })('a', 'b', 'c'),\n    nativeIncludes,\n    'c',\n  );\n\n  return res.threw === false && res.value === true;\n};\n\nconst isWorking = toBoolean(nativeIncludes) && test1() && test2() && test3() && test4() && test5() && test6() && test7();\n\nconst patchedReduce = function includes(array, searchElement) {\n  requireObjectCoercible(array);\n  const args = [searchElement];\n\n  if (arguments.length > 2) {\n    /* eslint-disable-next-line prefer-rest-params,prefer-destructuring */\n    args[1] = arguments[2];\n  }\n\n  return nativeIncludes.apply(array, args);\n};\n\n// eslint-disable jsdoc/check-param-names\n// noinspection JSCommentMatchesSignature\n/**\n * This method returns an index in the array, if an element in the array\n * satisfies the provided testing function. Otherwise -1 is returned.\n *\n * @private\n * @param {Array} object - The array to search.\n * @param {*} searchElement - Element to locate in the array.\n * @param {number} fromIndex - The index to start the search at.\n * @returns {number} Returns index of found element, otherwise -1.\n */\n// eslint-enable jsdoc/check-param-names\nconst findIdxFrom = function findIndexFrom(args) {\n  const [object, searchElement, fromIndex] = args;\n  let fIdx = fromIndex;\n  const length = toLength(object.length);\n  while (fIdx < length) {\n    if (sameValueZero(object[fIdx], searchElement)) {\n      return fIdx;\n    }\n\n    fIdx += 1;\n  }\n\n  return -1;\n};\n\nconst runFindIndex = function runFindIndex(obj) {\n  const {iterable, args, length, searchElement} = obj;\n  let fromIndex = calcFromIndex(iterable, args[2]);\n\n  if (fromIndex >= length) {\n    return -1;\n  }\n\n  if (fromIndex < 0) {\n    fromIndex = 0;\n  }\n\n  return fromIndex > 0\n    ? findIdxFrom([iterable, searchElement, fromIndex]) > -1\n    : findIndex(iterable, function predicate(element) {\n        return sameValueZero(searchElement, element);\n      }) > -1;\n};\n\nexport const implementation = function includes(array, searchElement) {\n  const object = toObject(array);\n  const iterable = splitIfBoxedBug(object);\n  const length = toLength(iterable.length);\n\n  if (length < 1) {\n    return -1;\n  }\n\n  if (typeof searchElement === 'undefined') {\n    /* eslint-disable-next-line prefer-rest-params */\n    return runFindIndex({iterable, args: arguments, length, searchElement});\n  }\n\n  /* eslint-disable-next-line prefer-rest-params */\n  return indexOf(iterable, searchElement, arguments[2], 'samevaluezero') > -1;\n};\n\n/**\n * This method determines whether an array includes a certain element,\n * returning true or false as appropriate.\n *\n * @param {Array} array - The array to search.\n * @throws {TypeError} If `array` is `null` or `undefined`.\n * @param {*} searchElement - Element to locate in the `array`.\n * @param {number} [fromIndex] - The position in this array at which to begin\n *  searching for searchElement. A negative value searches from the index of\n *  array.length + fromIndex by asc. Defaults to 0.\n * @returns {boolean} `true` if searched element is included; otherwise `false`.\n */\nconst $includes = isWorking ? patchedReduce : implementation;\n\nexport default $includes;\n"]}